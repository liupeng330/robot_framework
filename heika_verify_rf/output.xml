<?xml version="1.0" encoding="UTF-8"?>
<robot generated="20151230 17:44:39.480" generator="Robot 2.9.2 (Python 2.7.6 on linux2)">
<suite source="/home/peng/git_test_codes/robot_framework/heika_verify_rf/verify_system_tests/user_search_tests.robot" id="s1" name="User Search Tests">
<test id="s1-t1" name="Test Search By Nick Name And Verify Success">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:44:39.608" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:44:41.895" starttime="20151230 17:44:39.607"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:44:42.034" starttime="20151230 17:44:41.895"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:44:42.035" starttime="20151230 17:44:42.035"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:44:42.040" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:44:42.040" starttime="20151230 17:44:42.036"></status>
</kw>
<status status="PASS" endtime="20151230 17:44:42.041" starttime="20151230 17:44:42.036"></status>
</kw>
<status status="PASS" endtime="20151230 17:44:42.041" starttime="20151230 17:44:39.606"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>昵称</arg>
<arg>审核通过</arg>
<arg>auto_01</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:44:42.044" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:44:42.119" starttime="20151230 17:44:42.043"></status>
</kw>
<status status="PASS" endtime="20151230 17:44:42.119" starttime="20151230 17:44:42.043"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:44:42.121" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:44:42.232" starttime="20151230 17:44:42.120"></status>
</kw>
<status status="PASS" endtime="20151230 17:44:42.233" starttime="20151230 17:44:42.119"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:44:42.234" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:44:52.326" starttime="20151230 17:44:42.234"></status>
</kw>
<status status="PASS" endtime="20151230 17:44:52.327" starttime="20151230 17:44:42.233"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:44:53.180" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-1.png"&gt;&lt;img src="selenium-screenshot-1.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:44:53.181" starttime="20151230 17:44:52.343"></status>
</kw>
<msg timestamp="20151230 17:44:53.181" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:44:53.182" starttime="20151230 17:44:52.328"></status>
</kw>
<status status="FAIL" endtime="20151230 17:44:53.182" starttime="20151230 17:44:52.328"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:45:03.187" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:45:03.187" starttime="20151230 17:45:03.184"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:45:03.190" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:45:03.191" starttime="20151230 17:45:03.188"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.191" starttime="20151230 17:45:03.183"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.191" starttime="20151230 17:44:52.327"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.192" starttime="20151230 17:44:42.042"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:45:03.193" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:45:03.232" starttime="20151230 17:45:03.193"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.232" starttime="20151230 17:45:03.192"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.501" starttime="20151230 17:45:03.233"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.501" starttime="20151230 17:45:03.232"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:45:03.502" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:45:03.635" starttime="20151230 17:45:03.501"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<kw name="User Search Select By NickName" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:45:03.638" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:45:03.714" starttime="20151230 17:45:03.638"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_0</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.739" starttime="20151230 17:45:03.715"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_0</arg>
</arguments>
<msg timestamp="20151230 17:45:03.740" level="INFO">Clicking element 'id=_easyui_combobox_i1_0'.</msg>
<status status="PASS" endtime="20151230 17:45:03.807" starttime="20151230 17:45:03.740"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.808" starttime="20151230 17:45:03.637"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.808" starttime="20151230 17:45:03.636"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.813" starttime="20151230 17:45:03.809"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.815" starttime="20151230 17:45:03.813"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.818" starttime="20151230 17:45:03.816"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:45:03.849" level="INFO">[2015-12-30 17:45:03] [update_verify_user_status_to_second_verify_success] 将verify_user_status表的数据置为审核通过状态
[2015-12-30 17:45:03] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:45:03] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:45:03] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:45:03.850" starttime="20151230 17:45:03.819"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.852" starttime="20151230 17:45:03.850"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.853" starttime="20151230 17:45:03.852"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.855" starttime="20151230 17:45:03.854"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.857" starttime="20151230 17:45:03.855"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_SUCCESS Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:45:03.859" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:45:03.914" starttime="20151230 17:45:03.859"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.934" starttime="20151230 17:45:03.914"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<msg timestamp="20151230 17:45:03.936" level="INFO">Clicking element 'id=_easyui_combobox_i2_9'.</msg>
<status status="PASS" endtime="20151230 17:45:03.986" starttime="20151230 17:45:03.935"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.987" starttime="20151230 17:45:03.858"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:03.987" starttime="20151230 17:45:03.857"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:03.990" starttime="20151230 17:45:03.988"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:45:03.992" level="INFO">Typing text 'auto_01' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:45:04.057" starttime="20151230 17:45:03.991"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:45:04.059" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:45:04.133" starttime="20151230 17:45:04.058"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:04.150" starttime="20151230 17:45:04.134"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:45:04.222" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:45:04.222" starttime="20151230 17:45:04.151"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:45:04.223" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:45:04.223" starttime="20151230 17:45:04.222"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:45:04.224" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:45:04.224" starttime="20151230 17:45:04.223"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:45:04.489" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile...</msg>
<status status="PASS" endtime="20151230 17:45:04.489" starttime="20151230 17:45:04.225"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:45:04.490" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:45:04.490" starttime="20151230 17:45:04.489"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:45:04.493" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:45:04.493" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:45:04.494" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:45:04.494" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:45:04.495" level="INFO">[2015-12-30 17:45:04] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user.nick_name like 'auto_01%' and verify_user_status.verify_user_status in ('VERIFY_SUCCESS') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:45:04.495" starttime="20151230 17:45:04.490"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:04.495" starttime="20151230 17:45:04.225"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:04.495" starttime="20151230 17:45:04.224"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:04.496" starttime="20151230 17:44:42.041"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:45:04.551" starttime="20151230 17:45:04.496"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:04.551" critical="yes" starttime="20151230 17:44:39.606"></status>
</test>
<test id="s1-t2" name="Test Search By Nick Name And Verify Fail">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:45:04.554" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:45:08.759" starttime="20151230 17:45:04.553"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:45:08.900" starttime="20151230 17:45:08.759"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:08.901" starttime="20151230 17:45:08.900"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:45:08.905" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:45:08.906" starttime="20151230 17:45:08.902"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:08.906" starttime="20151230 17:45:08.901"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:08.907" starttime="20151230 17:45:04.553"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>昵称</arg>
<arg>补件</arg>
<arg>auto_01</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:45:08.910" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:45:08.984" starttime="20151230 17:45:08.909"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:08.984" starttime="20151230 17:45:08.909"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:45:08.986" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:45:09.057" starttime="20151230 17:45:08.985"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:09.057" starttime="20151230 17:45:08.985"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:45:09.059" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:45:19.118" starttime="20151230 17:45:09.058"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:19.118" starttime="20151230 17:45:09.058"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:45:19.940" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-2.png"&gt;&lt;img src="selenium-screenshot-2.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:45:19.940" starttime="20151230 17:45:19.134"></status>
</kw>
<msg timestamp="20151230 17:45:19.941" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:45:19.941" starttime="20151230 17:45:19.119"></status>
</kw>
<status status="FAIL" endtime="20151230 17:45:19.941" starttime="20151230 17:45:19.119"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:45:29.946" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:45:29.947" starttime="20151230 17:45:29.943"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:45:29.950" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:45:29.950" starttime="20151230 17:45:29.947"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:29.951" starttime="20151230 17:45:29.942"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:29.951" starttime="20151230 17:45:19.118"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:29.951" starttime="20151230 17:45:08.908"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:45:29.953" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:45:29.992" starttime="20151230 17:45:29.952"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:29.993" starttime="20151230 17:45:29.952"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.275" starttime="20151230 17:45:29.995"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:30.276" starttime="20151230 17:45:29.994"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:45:30.277" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:45:30.427" starttime="20151230 17:45:30.277"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<kw name="User Search Select By NickName" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:45:30.430" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:45:30.514" starttime="20151230 17:45:30.429"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_0</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.541" starttime="20151230 17:45:30.515"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_0</arg>
</arguments>
<msg timestamp="20151230 17:45:30.542" level="INFO">Clicking element 'id=_easyui_combobox_i1_0'.</msg>
<status status="PASS" endtime="20151230 17:45:30.598" starttime="20151230 17:45:30.542"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:30.598" starttime="20151230 17:45:30.429"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:30.599" starttime="20151230 17:45:30.427"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.601" starttime="20151230 17:45:30.599"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.603" starttime="20151230 17:45:30.601"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.604" starttime="20151230 17:45:30.603"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:45:30.620" level="INFO">[2015-12-30 17:45:30] [update_verify_user_status_to_verify_fail] 将verify_user_status表的数据置为补件
[2015-12-30 17:45:30] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:45:30] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:45:30] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:45:30.620" starttime="20151230 17:45:30.605"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.622" starttime="20151230 17:45:30.621"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.624" starttime="20151230 17:45:30.622"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.626" starttime="20151230 17:45:30.624"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.627" starttime="20151230 17:45:30.626"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.629" starttime="20151230 17:45:30.627"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_FAIL Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:45:30.631" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:45:30.686" starttime="20151230 17:45:30.631"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.703" starttime="20151230 17:45:30.686"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<msg timestamp="20151230 17:45:30.705" level="INFO">Clicking element 'id=_easyui_combobox_i2_3'.</msg>
<status status="PASS" endtime="20151230 17:45:30.755" starttime="20151230 17:45:30.704"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:30.756" starttime="20151230 17:45:30.630"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:30.756" starttime="20151230 17:45:30.629"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:45:30.757" level="INFO">Typing text 'auto_01' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:45:30.822" starttime="20151230 17:45:30.756"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:45:30.823" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:45:30.895" starttime="20151230 17:45:30.822"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:30.915" starttime="20151230 17:45:30.895"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:45:30.995" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:45:30.995" starttime="20151230 17:45:30.915"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:45:30.996" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:45:30.997" starttime="20151230 17:45:30.996"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:45:30.997" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:45:30.998" starttime="20151230 17:45:30.997"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:45:31.268" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'1314686...</msg>
<status status="PASS" endtime="20151230 17:45:31.268" starttime="20151230 17:45:30.999"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:45:31.269" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:45:31.270" starttime="20151230 17:45:31.269"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:45:31.272" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:45:31.272" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:45:31.274" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:45:31.274" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:45:31.274" level="INFO">[2015-12-30 17:45:31] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user.nick_name like 'auto_01%' and verify_user_status.verify_user_status in ('VERIFY_FAIL') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:45:31.274" starttime="20151230 17:45:31.270"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:31.275" starttime="20151230 17:45:30.998"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:31.275" starttime="20151230 17:45:30.998"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:31.275" starttime="20151230 17:45:08.907"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:45:31.330" starttime="20151230 17:45:31.276"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:31.330" critical="yes" starttime="20151230 17:45:04.552"></status>
</test>
<test id="s1-t3" name="Test Search By Mobile And Verify Success">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:45:31.332" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:45:33.647" starttime="20151230 17:45:31.332"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:45:33.793" starttime="20151230 17:45:33.648"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:33.794" starttime="20151230 17:45:33.793"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:45:33.798" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:45:33.798" starttime="20151230 17:45:33.795"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:33.798" starttime="20151230 17:45:33.794"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:33.799" starttime="20151230 17:45:31.331"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>手机号</arg>
<arg>审核通过</arg>
<arg>13146865530</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:45:33.802" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:45:33.869" starttime="20151230 17:45:33.801"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:33.870" starttime="20151230 17:45:33.801"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:45:33.872" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:45:33.943" starttime="20151230 17:45:33.871"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:33.944" starttime="20151230 17:45:33.870"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:45:33.946" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:45:44.001" starttime="20151230 17:45:33.945"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:44.002" starttime="20151230 17:45:33.944"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:45:44.801" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-3.png"&gt;&lt;img src="selenium-screenshot-3.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:45:44.802" starttime="20151230 17:45:44.018"></status>
</kw>
<msg timestamp="20151230 17:45:44.802" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:45:44.803" starttime="20151230 17:45:44.004"></status>
</kw>
<status status="FAIL" endtime="20151230 17:45:44.803" starttime="20151230 17:45:44.003"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:45:54.808" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:45:54.809" starttime="20151230 17:45:54.805"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:45:54.812" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:45:54.812" starttime="20151230 17:45:54.809"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:54.813" starttime="20151230 17:45:54.804"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:54.813" starttime="20151230 17:45:44.002"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:54.813" starttime="20151230 17:45:33.800"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:45:54.815" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:45:54.852" starttime="20151230 17:45:54.814"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:54.853" starttime="20151230 17:45:54.814"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.259" starttime="20151230 17:45:54.854"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:55.260" starttime="20151230 17:45:54.853"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:45:55.261" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:45:55.286" starttime="20151230 17:45:55.260"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.288" starttime="20151230 17:45:55.286"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<kw name="User Search Select By Mobile" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:45:55.292" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:45:55.363" starttime="20151230 17:45:55.291"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_1</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.386" starttime="20151230 17:45:55.364"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_1</arg>
</arguments>
<msg timestamp="20151230 17:45:55.386" level="INFO">Clicking element 'id=_easyui_combobox_i1_1'.</msg>
<status status="PASS" endtime="20151230 17:45:55.448" starttime="20151230 17:45:55.386"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:55.449" starttime="20151230 17:45:55.290"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:55.449" starttime="20151230 17:45:55.289"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.451" starttime="20151230 17:45:55.450"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.453" starttime="20151230 17:45:55.451"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:45:55.467" level="INFO">[2015-12-30 17:45:55] [update_verify_user_status_to_second_verify_success] 将verify_user_status表的数据置为审核通过状态
[2015-12-30 17:45:55] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:45:55] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:45:55] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:45:55.468" starttime="20151230 17:45:55.453"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.470" starttime="20151230 17:45:55.468"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.471" starttime="20151230 17:45:55.470"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.473" starttime="20151230 17:45:55.472"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.475" starttime="20151230 17:45:55.473"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_SUCCESS Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:45:55.477" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:45:55.539" starttime="20151230 17:45:55.477"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.564" starttime="20151230 17:45:55.539"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<msg timestamp="20151230 17:45:55.565" level="INFO">Clicking element 'id=_easyui_combobox_i2_9'.</msg>
<status status="PASS" endtime="20151230 17:45:55.615" starttime="20151230 17:45:55.564"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:55.615" starttime="20151230 17:45:55.476"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:55.615" starttime="20151230 17:45:55.475"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.617" starttime="20151230 17:45:55.616"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:45:55.618" level="INFO">Typing text '13146865530' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:45:55.678" starttime="20151230 17:45:55.618"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:45:55.679" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:45:55.755" starttime="20151230 17:45:55.678"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:55.775" starttime="20151230 17:45:55.755"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:45:55.852" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:45:55.852" starttime="20151230 17:45:55.775"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:45:55.852" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:45:55.853" starttime="20151230 17:45:55.852"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:45:55.853" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:45:55.854" starttime="20151230 17:45:55.853"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:45:56.116" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile...</msg>
<status status="PASS" endtime="20151230 17:45:56.116" starttime="20151230 17:45:55.854"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:45:56.117" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:45:56.117" starttime="20151230 17:45:56.116"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:45:56.119" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:45:56.120" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:45:56.121" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:45:56.121" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:45:56.122" level="INFO">[2015-12-30 17:45:56] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user.mobile like '13146865530%' and verify_user_status.verify_user_status in ('VERIFY_SUCCESS') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:45:56.122" starttime="20151230 17:45:56.117"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:56.122" starttime="20151230 17:45:55.854"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:56.122" starttime="20151230 17:45:55.854"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:56.123" starttime="20151230 17:45:33.799"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:45:57.178" starttime="20151230 17:45:56.123"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:57.178" critical="yes" starttime="20151230 17:45:31.331"></status>
</test>
<test id="s1-t4" name="Test Search By Mobile And Verify Fail">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:45:57.181" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:45:59.622" starttime="20151230 17:45:57.180"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:45:59.767" starttime="20151230 17:45:59.623"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:45:59.768" starttime="20151230 17:45:59.767"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:45:59.773" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:45:59.773" starttime="20151230 17:45:59.769"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:59.774" starttime="20151230 17:45:59.768"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:59.774" starttime="20151230 17:45:57.180"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>手机号</arg>
<arg>补件</arg>
<arg>13146865530</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:45:59.777" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:45:59.845" starttime="20151230 17:45:59.777"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:59.846" starttime="20151230 17:45:59.776"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:45:59.847" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:45:59.917" starttime="20151230 17:45:59.847"></status>
</kw>
<status status="PASS" endtime="20151230 17:45:59.918" starttime="20151230 17:45:59.846"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:45:59.919" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:46:10.011" starttime="20151230 17:45:59.918"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:10.011" starttime="20151230 17:45:59.918"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:46:10.867" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-4.png"&gt;&lt;img src="selenium-screenshot-4.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:46:10.868" starttime="20151230 17:46:10.028"></status>
</kw>
<msg timestamp="20151230 17:46:10.868" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:46:10.869" starttime="20151230 17:46:10.013"></status>
</kw>
<status status="FAIL" endtime="20151230 17:46:10.869" starttime="20151230 17:46:10.012"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:46:20.874" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:46:20.874" starttime="20151230 17:46:20.871"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:46:20.877" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:46:20.878" starttime="20151230 17:46:20.875"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:20.878" starttime="20151230 17:46:20.870"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:20.879" starttime="20151230 17:46:10.012"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:20.879" starttime="20151230 17:45:59.775"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:46:20.881" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:46:20.920" starttime="20151230 17:46:20.880"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:20.920" starttime="20151230 17:46:20.879"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.325" starttime="20151230 17:46:20.921"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:21.325" starttime="20151230 17:46:20.920"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:46:21.326" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:46:21.368" starttime="20151230 17:46:21.325"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.370" starttime="20151230 17:46:21.368"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<kw name="User Search Select By Mobile" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:46:21.373" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:46:21.526" starttime="20151230 17:46:21.372"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_1</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.551" starttime="20151230 17:46:21.527"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_1</arg>
</arguments>
<msg timestamp="20151230 17:46:21.552" level="INFO">Clicking element 'id=_easyui_combobox_i1_1'.</msg>
<status status="PASS" endtime="20151230 17:46:21.608" starttime="20151230 17:46:21.551"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:21.609" starttime="20151230 17:46:21.371"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:21.609" starttime="20151230 17:46:21.370"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.611" starttime="20151230 17:46:21.610"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.613" starttime="20151230 17:46:21.611"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:46:21.627" level="INFO">[2015-12-30 17:46:21] [update_verify_user_status_to_verify_fail] 将verify_user_status表的数据置为补件
[2015-12-30 17:46:21] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:46:21] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:46:21] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:46:21.627" starttime="20151230 17:46:21.613"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.629" starttime="20151230 17:46:21.628"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.631" starttime="20151230 17:46:21.630"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.633" starttime="20151230 17:46:21.631"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.634" starttime="20151230 17:46:21.633"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.636" starttime="20151230 17:46:21.634"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_FAIL Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:46:21.638" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:46:21.694" starttime="20151230 17:46:21.638"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.710" starttime="20151230 17:46:21.694"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<msg timestamp="20151230 17:46:21.711" level="INFO">Clicking element 'id=_easyui_combobox_i2_3'.</msg>
<status status="PASS" endtime="20151230 17:46:21.763" starttime="20151230 17:46:21.711"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:21.763" starttime="20151230 17:46:21.637"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:21.763" starttime="20151230 17:46:21.636"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:46:21.764" level="INFO">Typing text '13146865530' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:46:21.827" starttime="20151230 17:46:21.764"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:46:21.828" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:46:21.901" starttime="20151230 17:46:21.827"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:21.915" starttime="20151230 17:46:21.901"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:46:21.997" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:46:21.997" starttime="20151230 17:46:21.916"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:46:21.998" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:46:21.999" starttime="20151230 17:46:21.998"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:46:21.999" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:46:22.000" starttime="20151230 17:46:21.999"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:46:22.277" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'1314686...</msg>
<status status="PASS" endtime="20151230 17:46:22.277" starttime="20151230 17:46:22.001"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:46:22.278" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:46:22.278" starttime="20151230 17:46:22.277"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:46:22.280" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:46:22.281" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:46:22.281" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:46:22.282" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:46:22.282" level="INFO">[2015-12-30 17:46:22] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user.mobile like '13146865530%' and verify_user_status.verify_user_status in ('VERIFY_FAIL') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:46:22.282" starttime="20151230 17:46:22.279"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:22.282" starttime="20151230 17:46:22.000"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:22.282" starttime="20151230 17:46:22.000"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:22.283" starttime="20151230 17:45:59.774"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:46:22.338" starttime="20151230 17:46:22.283"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:22.338" critical="yes" starttime="20151230 17:45:57.179"></status>
</test>
<test id="s1-t5" name="Test Search By IdNo And Verify Success">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:46:22.342" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:46:26.035" starttime="20151230 17:46:22.341"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:46:26.180" starttime="20151230 17:46:26.036"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:26.181" starttime="20151230 17:46:26.180"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:46:26.186" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:46:26.186" starttime="20151230 17:46:26.182"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:26.186" starttime="20151230 17:46:26.181"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:26.187" starttime="20151230 17:46:22.340"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>身份证</arg>
<arg>审核通过</arg>
<arg>130521199307091000</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:46:26.190" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:46:26.257" starttime="20151230 17:46:26.189"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:26.258" starttime="20151230 17:46:26.189"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:46:26.259" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:46:26.333" starttime="20151230 17:46:26.259"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:26.333" starttime="20151230 17:46:26.258"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:46:26.335" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:46:36.397" starttime="20151230 17:46:26.334"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:36.397" starttime="20151230 17:46:26.334"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:46:37.194" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-5.png"&gt;&lt;img src="selenium-screenshot-5.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:46:37.195" starttime="20151230 17:46:36.414"></status>
</kw>
<msg timestamp="20151230 17:46:37.195" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:46:37.196" starttime="20151230 17:46:36.399"></status>
</kw>
<status status="FAIL" endtime="20151230 17:46:37.196" starttime="20151230 17:46:36.398"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:46:47.201" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:46:47.201" starttime="20151230 17:46:47.198"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:46:47.204" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:46:47.205" starttime="20151230 17:46:47.202"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.205" starttime="20151230 17:46:47.197"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.206" starttime="20151230 17:46:36.398"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.206" starttime="20151230 17:46:26.188"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:46:47.207" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:46:47.246" starttime="20151230 17:46:47.207"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.247" starttime="20151230 17:46:47.206"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.535" starttime="20151230 17:46:47.248"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.536" starttime="20151230 17:46:47.247"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:46:47.537" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:46:47.690" starttime="20151230 17:46:47.536"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.692" starttime="20151230 17:46:47.690"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.694" starttime="20151230 17:46:47.692"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<kw name="User Search Select By IdNo" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:46:47.696" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:46:47.774" starttime="20151230 17:46:47.696"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_2</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.799" starttime="20151230 17:46:47.774"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_2</arg>
</arguments>
<msg timestamp="20151230 17:46:47.800" level="INFO">Clicking element 'id=_easyui_combobox_i1_2'.</msg>
<status status="PASS" endtime="20151230 17:46:47.866" starttime="20151230 17:46:47.799"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.867" starttime="20151230 17:46:47.695"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:47.867" starttime="20151230 17:46:47.694"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.869" starttime="20151230 17:46:47.867"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:46:47.884" level="INFO">[2015-12-30 17:46:47] [update_verify_user_status_to_second_verify_success] 将verify_user_status表的数据置为审核通过状态
[2015-12-30 17:46:47] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:46:47] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:46:47] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:46:47.884" starttime="20151230 17:46:47.869"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.886" starttime="20151230 17:46:47.885"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.888" starttime="20151230 17:46:47.886"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.890" starttime="20151230 17:46:47.888"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.891" starttime="20151230 17:46:47.890"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_SUCCESS Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:46:47.894" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:46:47.949" starttime="20151230 17:46:47.893"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:47.966" starttime="20151230 17:46:47.949"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<msg timestamp="20151230 17:46:47.967" level="INFO">Clicking element 'id=_easyui_combobox_i2_9'.</msg>
<status status="PASS" endtime="20151230 17:46:48.018" starttime="20151230 17:46:47.966"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:48.018" starttime="20151230 17:46:47.893"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:48.019" starttime="20151230 17:46:47.892"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:48.021" starttime="20151230 17:46:48.019"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:46:48.022" level="INFO">Typing text '130521199307091000' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:46:48.087" starttime="20151230 17:46:48.021"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:46:48.088" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:46:48.163" starttime="20151230 17:46:48.087"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:48.177" starttime="20151230 17:46:48.163"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:46:49.260" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:46:49.260" starttime="20151230 17:46:48.178"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:46:49.261" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:46:49.261" starttime="20151230 17:46:49.261"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:46:49.262" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:46:49.262" starttime="20151230 17:46:49.262"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:46:49.517" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile...</msg>
<status status="PASS" endtime="20151230 17:46:49.517" starttime="20151230 17:46:49.263"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:46:49.518" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:46:49.519" starttime="20151230 17:46:49.518"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:46:49.521" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:46:49.521" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:46:49.522" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:46:49.522" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:46:49.522" level="INFO">[2015-12-30 17:46:49] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user_info.id_no like '130521199307091000%' and verify_user_status.verify_user_status in ('VERIFY_SUCCESS') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:46:49.523" starttime="20151230 17:46:49.519"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:49.523" starttime="20151230 17:46:49.263"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:49.523" starttime="20151230 17:46:49.262"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:49.524" starttime="20151230 17:46:26.187"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:46:49.579" starttime="20151230 17:46:49.524"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:49.579" critical="yes" starttime="20151230 17:46:22.339"></status>
</test>
<test id="s1-t6" name="Test Search By IdNo And Verify Fail">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:46:49.582" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:46:52.042" starttime="20151230 17:46:49.581"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:46:52.184" starttime="20151230 17:46:52.043"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:46:52.185" starttime="20151230 17:46:52.184"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:46:52.189" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:46:52.190" starttime="20151230 17:46:52.186"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:52.190" starttime="20151230 17:46:52.185"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:52.190" starttime="20151230 17:46:49.580"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>身份证</arg>
<arg>补件</arg>
<arg>130521199307091000</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:46:52.193" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:46:52.263" starttime="20151230 17:46:52.193"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:52.263" starttime="20151230 17:46:52.192"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:46:52.265" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:46:52.335" starttime="20151230 17:46:52.265"></status>
</kw>
<status status="PASS" endtime="20151230 17:46:52.336" starttime="20151230 17:46:52.264"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:46:52.337" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:47:02.379" starttime="20151230 17:46:52.337"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:02.380" starttime="20151230 17:46:52.336"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:47:03.222" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-6.png"&gt;&lt;img src="selenium-screenshot-6.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:47:03.223" starttime="20151230 17:47:02.395"></status>
</kw>
<msg timestamp="20151230 17:47:03.223" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:47:03.223" starttime="20151230 17:47:02.381"></status>
</kw>
<status status="FAIL" endtime="20151230 17:47:03.224" starttime="20151230 17:47:02.381"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:47:13.229" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:47:13.229" starttime="20151230 17:47:13.226"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:47:13.232" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:47:13.232" starttime="20151230 17:47:13.229"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.233" starttime="20151230 17:47:13.225"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.233" starttime="20151230 17:47:02.380"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.234" starttime="20151230 17:46:52.192"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:47:13.235" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:47:13.273" starttime="20151230 17:47:13.235"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.274" starttime="20151230 17:47:13.234"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.669" starttime="20151230 17:47:13.275"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.670" starttime="20151230 17:47:13.274"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:47:13.670" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:47:13.711" starttime="20151230 17:47:13.670"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.713" starttime="20151230 17:47:13.712"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.715" starttime="20151230 17:47:13.713"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<kw name="User Search Select By IdNo" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:47:13.717" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:47:13.797" starttime="20151230 17:47:13.717"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_2</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.822" starttime="20151230 17:47:13.798"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_2</arg>
</arguments>
<msg timestamp="20151230 17:47:13.823" level="INFO">Clicking element 'id=_easyui_combobox_i1_2'.</msg>
<status status="PASS" endtime="20151230 17:47:13.886" starttime="20151230 17:47:13.823"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.886" starttime="20151230 17:47:13.716"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:13.886" starttime="20151230 17:47:13.715"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.888" starttime="20151230 17:47:13.887"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:47:13.903" level="INFO">[2015-12-30 17:47:13] [update_verify_user_status_to_verify_fail] 将verify_user_status表的数据置为补件
[2015-12-30 17:47:13] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:47:13] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:47:13] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:47:13.904" starttime="20151230 17:47:13.889"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.906" starttime="20151230 17:47:13.904"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.907" starttime="20151230 17:47:13.906"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.909" starttime="20151230 17:47:13.908"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.911" starttime="20151230 17:47:13.909"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.912" starttime="20151230 17:47:13.911"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_FAIL Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:47:13.914" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:47:13.970" starttime="20151230 17:47:13.914"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:13.994" starttime="20151230 17:47:13.971"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<msg timestamp="20151230 17:47:13.995" level="INFO">Clicking element 'id=_easyui_combobox_i2_3'.</msg>
<status status="PASS" endtime="20151230 17:47:14.044" starttime="20151230 17:47:13.994"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:14.045" starttime="20151230 17:47:13.914"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:14.045" starttime="20151230 17:47:13.912"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:47:14.046" level="INFO">Typing text '130521199307091000' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:47:14.113" starttime="20151230 17:47:14.046"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:47:14.115" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:47:14.191" starttime="20151230 17:47:14.113"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:14.210" starttime="20151230 17:47:14.191"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:47:14.290" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:47:14.290" starttime="20151230 17:47:14.210"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:47:14.291" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:47:14.291" starttime="20151230 17:47:14.290"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:47:14.292" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:47:14.292" starttime="20151230 17:47:14.291"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:47:14.551" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'1314686...</msg>
<status status="PASS" endtime="20151230 17:47:14.551" starttime="20151230 17:47:14.293"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:47:14.552" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:47:14.553" starttime="20151230 17:47:14.552"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:47:14.566" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:47:14.566" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:47:14.567" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:47:14.567" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:47:14.567" level="INFO">[2015-12-30 17:47:14] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user_info.id_no like '130521199307091000%' and verify_user_status.verify_user_status in ('VERIFY_FAIL') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:47:14.568" starttime="20151230 17:47:14.553"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:14.568" starttime="20151230 17:47:14.292"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:14.568" starttime="20151230 17:47:14.292"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:14.568" starttime="20151230 17:46:52.191"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:47:14.623" starttime="20151230 17:47:14.569"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:14.624" critical="yes" starttime="20151230 17:46:49.580"></status>
</test>
<test id="s1-t7" name="Test Search By Real Name Verify Success">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:47:14.626" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:47:17.065" starttime="20151230 17:47:14.626"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:47:17.216" starttime="20151230 17:47:17.066"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:17.217" starttime="20151230 17:47:17.217"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:47:17.221" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:47:17.222" starttime="20151230 17:47:17.218"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:17.222" starttime="20151230 17:47:17.218"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:17.223" starttime="20151230 17:47:14.625"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>姓名</arg>
<arg>审核通过</arg>
<arg>施旭宁</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:47:17.226" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:47:17.289" starttime="20151230 17:47:17.225"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:17.290" starttime="20151230 17:47:17.225"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:47:17.291" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:47:17.362" starttime="20151230 17:47:17.291"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:17.362" starttime="20151230 17:47:17.290"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:47:17.364" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:47:27.423" starttime="20151230 17:47:17.363"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:27.423" starttime="20151230 17:47:17.363"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:47:28.238" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-7.png"&gt;&lt;img src="selenium-screenshot-7.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:47:28.238" starttime="20151230 17:47:27.439"></status>
</kw>
<msg timestamp="20151230 17:47:28.239" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:47:28.240" starttime="20151230 17:47:27.425"></status>
</kw>
<status status="FAIL" endtime="20151230 17:47:28.240" starttime="20151230 17:47:27.424"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:47:38.245" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:47:38.245" starttime="20151230 17:47:38.242"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:47:38.249" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:47:38.249" starttime="20151230 17:47:38.246"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.250" starttime="20151230 17:47:38.241"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.250" starttime="20151230 17:47:27.423"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.250" starttime="20151230 17:47:17.224"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:47:38.252" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:47:38.290" starttime="20151230 17:47:38.251"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.291" starttime="20151230 17:47:38.251"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.571" starttime="20151230 17:47:38.292"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.572" starttime="20151230 17:47:38.291"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:47:38.573" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:47:38.704" starttime="20151230 17:47:38.572"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.707" starttime="20151230 17:47:38.705"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.709" starttime="20151230 17:47:38.708"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.711" starttime="20151230 17:47:38.709"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<kw name="User Search Select By RealName" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:47:38.715" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:47:38.815" starttime="20151230 17:47:38.714"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_3</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.841" starttime="20151230 17:47:38.815"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_3</arg>
</arguments>
<msg timestamp="20151230 17:47:38.842" level="INFO">Clicking element 'id=_easyui_combobox_i1_3'.</msg>
<status status="PASS" endtime="20151230 17:47:38.907" starttime="20151230 17:47:38.842"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.907" starttime="20151230 17:47:38.714"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:38.907" starttime="20151230 17:47:38.712"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:47:38.922" level="INFO">[2015-12-30 17:47:38] [update_verify_user_status_to_second_verify_success] 将verify_user_status表的数据置为审核通过状态
[2015-12-30 17:47:38] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:47:38] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:47:38] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:47:38.922" starttime="20151230 17:47:38.908"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.924" starttime="20151230 17:47:38.923"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.926" starttime="20151230 17:47:38.925"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.927" starttime="20151230 17:47:38.926"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:38.929" starttime="20151230 17:47:38.928"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_SUCCESS Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:47:38.932" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:47:38.986" starttime="20151230 17:47:38.931"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:39.008" starttime="20151230 17:47:38.987"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_9</arg>
</arguments>
<msg timestamp="20151230 17:47:39.009" level="INFO">Clicking element 'id=_easyui_combobox_i2_9'.</msg>
<status status="PASS" endtime="20151230 17:47:39.058" starttime="20151230 17:47:39.008"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:39.058" starttime="20151230 17:47:38.931"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:39.058" starttime="20151230 17:47:38.929"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:39.060" starttime="20151230 17:47:39.059"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:47:39.061" level="INFO">Typing text '施旭宁' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:47:39.123" starttime="20151230 17:47:39.061"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:47:39.124" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:47:39.197" starttime="20151230 17:47:39.123"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:39.216" starttime="20151230 17:47:39.198"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:47:39.296" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:47:39.296" starttime="20151230 17:47:39.216"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:47:39.297" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:47:39.297" starttime="20151230 17:47:39.296"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:47:39.298" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:47:39.298" starttime="20151230 17:47:39.297"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:47:39.560" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile...</msg>
<status status="PASS" endtime="20151230 17:47:39.560" starttime="20151230 17:47:39.299"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:47:39.561" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u5ba1\u6838\u901a\u8fc7', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:47:39.561" starttime="20151230 17:47:39.560"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:47:39.563" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:47:39.563" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:47:39.565" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:47:39.565" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:47:39.565" level="INFO">[2015-12-30 17:47:39] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user_info.real_name like '施旭宁%' and verify_user_status.verify_user_status in ('VERIFY_SUCCESS') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:47:39.565" starttime="20151230 17:47:39.561"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:39.565" starttime="20151230 17:47:39.298"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:39.566" starttime="20151230 17:47:39.298"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:39.566" starttime="20151230 17:47:17.223"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:47:39.621" starttime="20151230 17:47:39.566"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:39.621" critical="yes" starttime="20151230 17:47:14.624"></status>
</test>
<test id="s1-t8" name="Test Search By Real Name Verify Fail">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151230 17:47:39.624" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151230 17:47:42.025" starttime="20151230 17:47:39.623"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151230 17:47:42.168" starttime="20151230 17:47:42.026"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:47:42.170" starttime="20151230 17:47:42.169"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151230 17:47:42.174" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151230 17:47:42.175" starttime="20151230 17:47:42.171"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:42.175" starttime="20151230 17:47:42.170"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:42.175" starttime="20151230 17:47:39.622"></status>
</kw>
<kw name="Search user test">
<arguments>
<arg>姓名</arg>
<arg>补件</arg>
<arg>施旭宁</arg>
<arg>100034832</arg>
</arguments>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151230 17:47:42.178" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151230 17:47:42.246" starttime="20151230 17:47:42.178"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:42.247" starttime="20151230 17:47:42.177"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151230 17:47:42.248" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151230 17:47:42.316" starttime="20151230 17:47:42.248"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:42.317" starttime="20151230 17:47:42.247"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151230 17:47:42.318" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151230 17:47:52.368" starttime="20151230 17:47:42.318"></status>
</kw>
<status status="PASS" endtime="20151230 17:47:52.368" starttime="20151230 17:47:42.317"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151230 17:47:53.192" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-8.png"&gt;&lt;img src="selenium-screenshot-8.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151230 17:47:53.192" starttime="20151230 17:47:52.384"></status>
</kw>
<msg timestamp="20151230 17:47:53.193" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151230 17:47:53.193" starttime="20151230 17:47:52.370"></status>
</kw>
<status status="FAIL" endtime="20151230 17:47:53.193" starttime="20151230 17:47:52.369"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151230 17:48:03.198" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151230 17:48:03.199" starttime="20151230 17:48:03.195"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151230 17:48:03.202" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151230 17:48:03.203" starttime="20151230 17:48:03.199"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.203" starttime="20151230 17:48:03.194"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.204" starttime="20151230 17:47:52.368"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.204" starttime="20151230 17:47:42.176"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151230 17:48:03.206" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151230 17:48:03.246" starttime="20151230 17:48:03.206"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.246" starttime="20151230 17:48:03.205"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.651" starttime="20151230 17:48:03.247"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.652" starttime="20151230 17:48:03.246"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151230 17:48:03.653" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151230 17:48:03.697" starttime="20151230 17:48:03.652"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '昵称'</arg>
<arg>User Search Select By NickName</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.699" starttime="20151230 17:48:03.698"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '手机号'</arg>
<arg>User Search Select By Mobile</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.700" starttime="20151230 17:48:03.699"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '身份证'</arg>
<arg>User Search Select By IdNo</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.702" starttime="20151230 17:48:03.701"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${search key}' == '姓名'</arg>
<arg>User Search Select By RealName</arg>
</arguments>
<kw name="User Search Select By RealName" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:48:03.705" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:48:03.769" starttime="20151230 17:48:03.704"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_3</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.795" starttime="20151230 17:48:03.769"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_3</arg>
</arguments>
<msg timestamp="20151230 17:48:03.796" level="INFO">Clicking element 'id=_easyui_combobox_i1_3'.</msg>
<status status="PASS" endtime="20151230 17:48:03.870" starttime="20151230 17:48:03.795"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.870" starttime="20151230 17:48:03.704"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:03.871" starttime="20151230 17:48:03.702"></status>
</kw>
<kw name="Update Verify User Status" library="VerifyLibrary">
<arguments>
<arg>${user id}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:48:03.886" level="INFO">[2015-12-30 17:48:03] [update_verify_user_status_to_verify_fail] 将verify_user_status表的数据置为补件
[2015-12-30 17:48:03] [delete_user_info_result] 将verify_user_info_result表清空

[2015-12-30 17:48:03] [commit] 执行sql语句：
DELETE FROM `verify_user_info_result` where `user_id` = 100034832
影响行数：19

[2015-12-30 17:48:03] [populate_user_info_result] 初始化verify_user_info_result表</msg>
<status status="PASS" endtime="20151230 17:48:03.886" starttime="20151230 17:48:03.871"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待提交'</arg>
<arg>User Search Select By UNCOMMIT Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.888" starttime="20151230 17:48:03.887"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待调查'</arg>
<arg>User Search Select By INQUREING Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.890" starttime="20151230 17:48:03.889"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待一审'</arg>
<arg>User Search Select By INQUIRE_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.892" starttime="20151230 17:48:03.890"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '等待二审'</arg>
<arg>User Search Select By FIRST_VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.893" starttime="20151230 17:48:03.892"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '审核通过'</arg>
<arg>User Search Select By VERIFY_SUCCESS Status</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.895" starttime="20151230 17:48:03.894"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${verify status}' == '补件'</arg>
<arg>User Search Select By VERIFY_FAIL Status</arg>
</arguments>
<kw name="User Search Select By VERIFY_FAIL Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151230 17:48:03.898" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151230 17:48:03.954" starttime="20151230 17:48:03.897"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:03.976" starttime="20151230 17:48:03.954"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_3</arg>
</arguments>
<msg timestamp="20151230 17:48:03.977" level="INFO">Clicking element 'id=_easyui_combobox_i2_3'.</msg>
<status status="PASS" endtime="20151230 17:48:04.029" starttime="20151230 17:48:03.976"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:04.029" starttime="20151230 17:48:03.897"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:04.029" starttime="20151230 17:48:03.896"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>${key}</arg>
</arguments>
<msg timestamp="20151230 17:48:04.030" level="INFO">Typing text '施旭宁' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151230 17:48:04.091" starttime="20151230 17:48:04.030"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151230 17:48:04.092" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151230 17:48:04.164" starttime="20151230 17:48:04.092"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151230 17:48:04.180" starttime="20151230 17:48:04.165"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151230 17:48:04.262" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151230 17:48:04.263" starttime="20151230 17:48:04.180"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151230 17:48:04.263" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151230 17:48:04.264" starttime="20151230 17:48:04.263"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${row_count}</arg>
<arg>1</arg>
<arg>应该只搜索到一条数据</arg>
</arguments>
<msg timestamp="20151230 17:48:04.265" level="INFO">Argument types are:
&lt;type 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20151230 17:48:04.265" starttime="20151230 17:48:04.264"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151230 17:48:04.527" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'1314686...</msg>
<status status="PASS" endtime="20151230 17:48:04.527" starttime="20151230 17:48:04.266"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151230 17:48:04.528" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-30 17:33', 'verifyUserStatus': u'\u8865\u4ef6', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151230 17:48:04.529" starttime="20151230 17:48:04.528"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>${key}</arg>
<arg>${search key}</arg>
<arg>${verify status}</arg>
</arguments>
<msg timestamp="20151230 17:48:04.531" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151230 17:48:04.531" level="INFO">Verify user status is NOT uncommit or inquireing</msg>
<msg timestamp="20151230 17:48:04.532" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151230 17:48:04.533" level="INFO">Start to compare them</msg>
<msg timestamp="20151230 17:48:04.533" level="INFO">[2015-12-30 17:48:04] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user_info.real_name like '施旭宁%' and verify_user_status.verify_user_status in ('VERIFY_FAIL') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151230 17:48:04.533" starttime="20151230 17:48:04.529"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:04.534" starttime="20151230 17:48:04.265"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:04.534" starttime="20151230 17:48:04.265"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:04.534" starttime="20151230 17:47:42.176"></status>
</kw>
<kw type="teardown" name="Close Browser" library="CustomSeleniumLibrary">
<doc>Closes the current browser.</doc>
<status status="PASS" endtime="20151230 17:48:04.589" starttime="20151230 17:48:04.535"></status>
</kw>
<status status="PASS" endtime="20151230 17:48:04.589" critical="yes" starttime="20151230 17:47:39.622"></status>
</test>
<status status="PASS" endtime="20151230 17:48:04.590" starttime="20151230 17:44:39.481"></status>
</suite>
<statistics>
<total>
<stat fail="0" pass="8">Critical Tests</stat>
<stat fail="0" pass="8">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="0" id="s1" name="User Search Tests" pass="8">User Search Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
