<?xml version="1.0" encoding="UTF-8"?>
<robot generated="20151227 22:51:34.691" generator="Robot 2.9.2 (Python 2.7.6 on linux2)">
<suite source="/home/peng/git_test_codes/robot_framework/heika_verify_rf/verify_system_tests/robot_test.robot" id="s1" name="Robot Test">
<test id="s1-t1" name="Search user test">
<kw type="setup" name="Open Browser To Login Page" library="resource">
<kw name="Open Browser" library="CustomSeleniumLibrary">
<doc>Opens a new browser instance to given URL.</doc>
<arguments>
<arg>${LOGIN URL}</arg>
<arg>${BROWSER}</arg>
</arguments>
<msg timestamp="20151227 22:51:35.011" level="INFO">Opening browser 'Chrome' to base url 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="PASS" endtime="20151227 22:51:39.990" starttime="20151227 22:51:35.010"></status>
</kw>
<kw name="Maximize Browser Window" library="CustomSeleniumLibrary">
<doc>Maximizes current browser window.</doc>
<status status="PASS" endtime="20151227 22:51:40.151" starttime="20151227 22:51:39.990"></status>
</kw>
<kw name="Set Selenium Speed" library="CustomSeleniumLibrary">
<doc>Sets the delay in seconds that is waited after each Selenium command.</doc>
<arguments>
<arg>${DELAY}</arg>
</arguments>
<status status="PASS" endtime="20151227 22:51:40.153" starttime="20151227 22:51:40.152"></status>
</kw>
<kw name="Login Page Should Be Open" library="resource">
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>登录</arg>
</arguments>
<msg timestamp="20151227 22:51:40.159" level="INFO">Page title is '登录'.</msg>
<status status="PASS" endtime="20151227 22:51:40.160" starttime="20151227 22:51:40.155"></status>
</kw>
<status status="PASS" endtime="20151227 22:51:40.160" starttime="20151227 22:51:40.154"></status>
</kw>
<status status="PASS" endtime="20151227 22:51:40.161" starttime="20151227 22:51:35.010"></status>
</kw>
<kw name="Login With Valid Account" library="resource">
<arguments>
<arg>${ADMIN USER}</arg>
<arg>${ADMIN PASSWORD}</arg>
</arguments>
<kw name="Input Username" library="resource">
<arguments>
<arg>${username}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>username</arg>
<arg>${username}</arg>
</arguments>
<msg timestamp="20151227 22:51:40.163" level="INFO">Typing text 'admin@renrendai.com' into text field 'username'</msg>
<status status="PASS" endtime="20151227 22:51:40.232" starttime="20151227 22:51:40.162"></status>
</kw>
<status status="PASS" endtime="20151227 22:51:40.232" starttime="20151227 22:51:40.162"></status>
</kw>
<kw name="Input Password" library="resource">
<arguments>
<arg>${password}</arg>
</arguments>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>password</arg>
<arg>${password}</arg>
</arguments>
<msg timestamp="20151227 22:51:40.234" level="INFO">Typing text 'L123456' into text field 'password'</msg>
<status status="PASS" endtime="20151227 22:51:40.305" starttime="20151227 22:51:40.233"></status>
</kw>
<status status="PASS" endtime="20151227 22:51:40.305" starttime="20151227 22:51:40.233"></status>
</kw>
<kw name="Submit Credentials" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>loginCheck</arg>
</arguments>
<msg timestamp="20151227 22:51:40.306" level="INFO">Clicking button 'loginCheck'.</msg>
<status status="PASS" endtime="20151227 22:51:50.421" starttime="20151227 22:51:40.306"></status>
</kw>
<status status="PASS" endtime="20151227 22:51:50.422" starttime="20151227 22:51:40.305"></status>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<doc>Runs the specified keyword and retries if it fails.</doc>
<arguments>
<arg>2 min</arg>
<arg>10 sec</arg>
<arg>Welcome Page Should Be Open</arg>
</arguments>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<kw name="Capture Page Screenshot" library="CustomSeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into the log.</doc>
<msg timestamp="20151227 22:51:51.240" html="yes" level="INFO">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-1.png"&gt;&lt;img src="selenium-screenshot-1.png" width="800px"&gt;&lt;/a&gt;</msg>
<status status="PASS" endtime="20151227 22:51:51.241" starttime="20151227 22:51:50.439"></status>
</kw>
<msg timestamp="20151227 22:51:51.241" level="FAIL">Location should have been 'http://172.16.2.38:15081/index.html' but was 'http://172.16.2.38:15081/login/index.html'</msg>
<status status="FAIL" endtime="20151227 22:51:51.241" starttime="20151227 22:51:50.424"></status>
</kw>
<status status="FAIL" endtime="20151227 22:51:51.242" starttime="20151227 22:51:50.423"></status>
</kw>
<kw name="Welcome Page Should Be Open" library="resource">
<kw name="Location Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current URL is exactly `url`.</doc>
<arguments>
<arg>${WELCOME URL}</arg>
</arguments>
<msg timestamp="20151227 22:52:01.247" level="INFO">Current location is 'http://172.16.2.38:15081/index.html'.</msg>
<status status="PASS" endtime="20151227 22:52:01.247" starttime="20151227 22:52:01.244"></status>
</kw>
<kw name="Title Should Be" library="CustomSeleniumLibrary">
<doc>Verifies that current page title equals `title`.</doc>
<arguments>
<arg>黑卡审核系统</arg>
</arguments>
<msg timestamp="20151227 22:52:01.251" level="INFO">Page title is '黑卡审核系统'.</msg>
<status status="PASS" endtime="20151227 22:52:01.251" starttime="20151227 22:52:01.248"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:01.252" starttime="20151227 22:52:01.243"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:01.252" starttime="20151227 22:51:50.422"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:01.252" starttime="20151227 22:51:40.161"></status>
</kw>
<kw name="Click TreeNode" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="${treetitle}"]</arg>
</arguments>
<msg timestamp="20151227 22:52:01.254" level="INFO">Clicking element 'xpath=//*[@class="tree-node"]/span[@class='tree-icon tree-file icon-round']/following-sibling::span[text()="用户查询"]'.</msg>
<status status="PASS" endtime="20151227 22:52:01.292" starttime="20151227 22:52:01.253"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:01.293" starttime="20151227 22:52:01.253"></status>
</kw>
<kw name="Page Title Visible" library="resource">
<arguments>
<arg>用户查询</arg>
</arguments>
<kw name="Wait Until Element Is Visible" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` is visible.</doc>
<arguments>
<arg>xpath=//*[@id="main-center"]//span[@class="tabs-title tabs-closable" and text()="${pagetitle}"]</arg>
</arguments>
<status status="PASS" endtime="20151227 22:52:01.682" starttime="20151227 22:52:01.294"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:01.682" starttime="20151227 22:52:01.293"></status>
</kw>
<kw name="Select Frame" library="CustomSeleniumLibrary">
<doc>Sets frame identified by `locator` as current frame.</doc>
<arguments>
<arg>${USER SEARCH IFRAME}</arg>
</arguments>
<msg timestamp="20151227 22:52:01.683" level="INFO">Selecting frame '//iframe[contains(@src,'userSearch')]'.</msg>
<status status="PASS" endtime="20151227 22:52:01.723" starttime="20151227 22:52:01.683"></status>
</kw>
<kw name="User Search Select By NickName" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH TYPE}</arg>
</arguments>
<msg timestamp="20151227 22:52:01.725" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[1]/span/input[1]'.</msg>
<status status="PASS" endtime="20151227 22:52:01.821" starttime="20151227 22:52:01.724"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_0</arg>
</arguments>
<status status="PASS" endtime="20151227 22:52:01.841" starttime="20151227 22:52:01.821"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i1_0</arg>
</arguments>
<msg timestamp="20151227 22:52:01.842" level="INFO">Clicking element 'id=_easyui_combobox_i1_0'.</msg>
<status status="PASS" endtime="20151227 22:52:01.906" starttime="20151227 22:52:01.842"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:01.907" starttime="20151227 22:52:01.724"></status>
</kw>
<kw name="User Search Select By INQUIRE_SUCCESS Status" library="resource">
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>${USER SEARCH STATUS TYPE}</arg>
</arguments>
<msg timestamp="20151227 22:52:01.908" level="INFO">Clicking button 'xpath=//*[@id="waitSearch"]/div/div[2]/span/input[1]'.</msg>
<status status="PASS" endtime="20151227 22:52:01.968" starttime="20151227 22:52:01.908"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_4</arg>
</arguments>
<status status="PASS" endtime="20151227 22:52:01.991" starttime="20151227 22:52:01.969"></status>
</kw>
<kw name="Click Element" library="CustomSeleniumLibrary">
<doc>Click element identified by `locator`.</doc>
<arguments>
<arg>id=_easyui_combobox_i2_4</arg>
</arguments>
<msg timestamp="20151227 22:52:01.992" level="INFO">Clicking element 'id=_easyui_combobox_i2_4'.</msg>
<status status="PASS" endtime="20151227 22:52:02.044" starttime="20151227 22:52:01.991"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:02.045" starttime="20151227 22:52:01.907"></status>
</kw>
<kw name="Input Text" library="CustomSeleniumLibrary">
<doc>Types the given `text` into text field identified by `locator`.</doc>
<arguments>
<arg>id=oText</arg>
<arg>auto</arg>
</arguments>
<msg timestamp="20151227 22:52:02.045" level="INFO">Typing text 'auto' into text field 'id=oText'</msg>
<status status="PASS" endtime="20151227 22:52:02.109" starttime="20151227 22:52:02.045"></status>
</kw>
<kw name="Click Button" library="CustomSeleniumLibrary">
<doc>Clicks a button identified by `locator`.</doc>
<arguments>
<arg>id=oSubmit</arg>
</arguments>
<msg timestamp="20151227 22:52:02.110" level="INFO">Clicking button 'id=oSubmit'.</msg>
<status status="PASS" endtime="20151227 22:52:02.184" starttime="20151227 22:52:02.110"></status>
</kw>
<kw name="Wait Until Page Contains Element" library="CustomSeleniumLibrary">
<doc>Waits until element specified with `locator` appears on current page.</doc>
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<status status="PASS" endtime="20151227 22:52:02.200" starttime="20151227 22:52:02.184"></status>
</kw>
<kw name="Get Table Row Count" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
</arguments>
<assign>
<var>${row_count}</var>
</assign>
<msg timestamp="20151227 22:52:02.286" level="INFO">${row_count} = 1</msg>
<status status="PASS" endtime="20151227 22:52:02.286" starttime="20151227 22:52:02.201"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>共有行数：${row_count}</arg>
</arguments>
<msg timestamp="20151227 22:52:02.287" level="INFO">共有行数：1</msg>
<status status="PASS" endtime="20151227 22:52:02.287" starttime="20151227 22:52:02.286"></status>
</kw>
<kw type="for" name="${i} IN RANGE [ ${row_count} ]">
<kw type="foritem" name="${i} = 0">
<kw name="Get User Search Results" library="CustomSeleniumLibrary">
<arguments>
<arg>${USER SEARCH TABLE}</arg>
<arg>${i}</arg>
</arguments>
<assign>
<var>${row}</var>
</assign>
<msg timestamp="20151227 22:52:02.575" level="INFO">${row} = {'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-08 15:45', 'verifyUserStatus': u'\u7b49\u5f85\u4e00\u5ba1', 'realName': u'\u65bd\u65ed\u5b81', 'mobile...</msg>
<status status="PASS" endtime="20151227 22:52:02.575" starttime="20151227 22:52:02.288"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>第${i}行：${row}</arg>
</arguments>
<msg timestamp="20151227 22:52:02.576" level="INFO">第0行：{'userType': u'\u666e\u901a\u7528\u6237', 'idNo': u'130521199307091000', 'operateTime': u'2015-12-08 15:45', 'verifyUserStatus': u'\u7b49\u5f85\u4e00\u5ba1', 'realName': u'\u65bd\u65ed\u5b81', 'mobile': u'13146865530', 'nickName': u'auto_01', 'userId': u'100034832', 'operator': u'\u5218\u9e4f\u6d4b\u8bd5'}</msg>
<status status="PASS" endtime="20151227 22:52:02.576" starttime="20151227 22:52:02.575"></status>
</kw>
<kw name="Compare User Search Result" library="VerifyLibrary">
<arguments>
<arg>${row}</arg>
<arg>${i}</arg>
<arg>auto</arg>
<arg>昵称</arg>
<arg>等待一审</arg>
</arguments>
<msg timestamp="20151227 22:52:02.606" level="INFO">Start to fetch from DB</msg>
<msg timestamp="20151227 22:52:02.607" level="INFO">Start to fetch from UI</msg>
<msg timestamp="20151227 22:52:02.607" level="INFO">Start to compare them</msg>
<msg timestamp="20151227 22:52:02.608" level="INFO">[2015-12-27 22:52:02] [search_user] 执行sql：
select
    user.user_id,
    user.nick_name,
    user_info.real_name,
    user.mobile,
    user_info.id_no,
    user.channel,
    verify_user_status.verify_user_status
from
    user
        inner join
    user_info ON user.user_id = user_info.user_id
        inner join
    verify_user_status ON user.user_id = verify_user_status.user_id
where user.nick_name like 'auto%' and verify_user_status.verify_user_status in ('INQUIRE_SUCCESS') order by user.register_time desc , user_id asc;</msg>
<status status="PASS" endtime="20151227 22:52:02.608" starttime="20151227 22:52:02.576"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:02.608" starttime="20151227 22:52:02.287"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:02.608" starttime="20151227 22:52:02.287"></status>
</kw>
<status status="PASS" endtime="20151227 22:52:02.609" critical="yes" starttime="20151227 22:51:35.009"></status>
</test>
<status status="PASS" endtime="20151227 22:52:02.609" starttime="20151227 22:51:34.691"></status>
</suite>
<statistics>
<total>
<stat fail="0" pass="1">Critical Tests</stat>
<stat fail="0" pass="1">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="0" id="s1" name="Robot Test" pass="1">Robot Test</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
